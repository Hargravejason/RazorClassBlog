@model RazorClassBlog.Models.BlogPost;

@{
  var published = (Model.PublishedUtc ?? Model.CreatedUtc).ToLocalTime();
}
<article class="col">
  <div class="card h-100 shadow-sm border-0">
    @if (!string.IsNullOrWhiteSpace(Model.HeroImageUrl))
    {
      <img src="@Model.HeroImageUrl" class="card-img-top" alt="@Model.Title" />
    }

    <div class="card-body">
      <h2 class="h4 card-title">
        <a asp-page="Post" asp-route-year="@published.Year" asp-route-month="@published.Month" asp-route-slug="@Model.Slug" class="stretched-link text-decoration-none">
          @Model.Title
        </a>
      </h2>

      <p class="card-subtitle mb-2 text-muted small">
        @published.ToString("MMMM dd, yyyy")
        @if (!string.IsNullOrWhiteSpace(Model.AuthorName))
        {
          <span> &middot; @Model.AuthorName</span>
        }
      </p>

      @if (!string.IsNullOrWhiteSpace(Model.Summary))
      {
        <p class="card-text">
          @Model.Summary
        </p>
      }

      @if (Model.Tags?.Any() == true)
      {
        <div class="mt-2">
          @foreach (var tag in Model.Tags)
          {
            <a asp-page="Index" asp-route-Tag="@tag" class="badge rounded-pill text-bg-light me-1">
              @tag
            </a>
          }
        </div>
      }
    </div>
  </div>
</article>